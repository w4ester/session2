<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Session 2: Boost Marketing Teams — From Custom GPT to AI Agents (Preview)</title>
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5/dist/reveal.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5/dist/theme/white.css" id="theme">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/5.2.1/plugin/highlight/monokai.min.css">
  <style>
    /* Professional slide styling */
    .reveal {
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
    }

    .reveal .slides {
      font-size: clamp(18px, 2vw, 32px);
      text-align: center;
      width: 100% !important;
      height: 100% !important;
    }

    html, body {
      width: 100%;
      height: 100%;
      overflow: hidden;
      margin: 0;
      padding: 0;
    }

    .reveal .slides > section {
      height: 100% !important;
      width: 100% !important;
      padding: 2rem !important;
      box-sizing: border-box;
      overflow-y: auto;
      overflow-x: hidden;
      display: flex !important;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    @media (max-width: 1024px) {
      .reveal .slides {
        font-size: clamp(16px, 2.2vw, 28px);
      }
      .reveal .slides > section {
        padding: 1.5rem !important;
      }
    }

    @media (max-width: 768px) {
      .reveal .slides {
        font-size: clamp(14px, 2.5vw, 24px);
      }
      .reveal .slides > section {
        padding: 1rem !important;
      }
    }

    /* Title slide styling */
    .reveal h1 {
      font-size: 2.8em;
      font-weight: 700;
      color: #0f172a;
      margin-bottom: 0.4em;
      line-height: 1.2;
      text-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .reveal h2 {
      font-size: 2em;
      font-weight: 600;
      color: #1e293b;
      margin: 0.7em 0 0.5em 0;
      border-bottom: 3px solid #7c5cff;
      padding-bottom: 0.3em;
      display: inline-block;
      min-width: 60%;
    }

    .reveal h3 {
      font-size: 1.5em;
      font-weight: 600;
      color: #334155;
      margin: 0.6em 0 0.4em 0;
    }

    .reveal h4 {
      font-size: 1.2em;
      font-weight: 600;
      color: #475569;
      margin: 0.5em 0 0.3em 0;
    }

    /* Metadata styling */
    .reveal .metadata {
      background: rgba(124, 92, 255, 0.08);
      border-left: 4px solid #7c5cff;
      padding: clamp(0.8em, 2vw, 1.5em);
      margin: 1.5em auto;
      border-radius: 8px;
      font-size: 0.9em;
      line-height: 1.6;
      max-width: 85%;
      text-align: left;
    }

    .reveal .metadata strong {
      color: #7c5cff;
      font-weight: 600;
    }

    /* Lists */
    .reveal ul, .reveal ol {
      margin: 0.5em auto;
      line-height: 1.5;
      display: inline-block;
      text-align: left;
      max-width: 90%;
    }

    .reveal li {
      margin: 0.25em 0;
    }

    /* Code blocks */
    .reveal pre {
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      border-radius: 8px;
      margin: 1em auto;
      max-width: 85%;
      overflow-x: auto;
    }

    .reveal pre code {
      font-size: clamp(0.6em, 1.5vw, 0.8em);
      padding: clamp(0.8em, 2vw, 1.2em);
      line-height: 1.5;
      max-height: 500px;
      overflow: auto;
    }

    /* Inline code */
    .reveal code {
      background: rgba(124, 92, 255, 0.1);
      color: #7c5cff;
      padding: 0.2em 0.4em;
      border-radius: 4px;
      font-size: 0.9em;
    }

    /* Links */
    .reveal a {
      color: #7c5cff;
      font-weight: 600;
      text-decoration: none;
      border-bottom: 2px solid transparent;
      transition: border-color 0.3s;
    }

    .reveal a:hover {
      border-bottom-color: #7c5cff;
    }

    /* Blockquotes */
    .reveal blockquote {
      background: rgba(124, 92, 255, 0.05);
      border-left: 4px solid #7c5cff;
      padding: 1em 1.5em;
      margin: 1em 0;
      font-style: italic;
      color: #475569;
    }

    /* Progress bar */
    .reveal .progress {
      background: rgba(124, 92, 255, 0.2);
      height: 4px;
    }

    .reveal .progress span {
      background: linear-gradient(90deg, #7c5cff, #6366f1);
    }

    /* Slide number */
    .reveal .slide-number {
      background: rgba(124, 92, 255, 0.9);
      color: white;
      font-weight: 600;
      padding: 0.5em 0.8em;
      border-radius: 4px;
    }

    /* Section styling */
    .reveal section {
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 16px rgba(0,0,0,0.06);
    }

    /* Responsive images */
    .reveal img {
      max-width: 85%;
      height: auto;
      display: block;
      margin: 1rem auto;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    }

    /* Screenshot images */
    .reveal .screenshot {
      max-width: 75%;
      border: 2px solid #e2e8f0;
    }

    .reveal .screenshot-large {
      max-width: 90%;
    }

    /* Grid layouts */
    .reveal .grid-2 {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
      margin: 1rem 0;
      text-align: left;
    }

    .reveal .grid-3 {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 1rem;
      margin: 1rem 0;
      text-align: left;
    }

    @media (max-width: 768px) {
      .reveal .grid-2,
      .reveal .grid-3 {
        grid-template-columns: 1fr;
      }
    }

    /* Highlight boxes */
    .reveal .highlight-box {
      background: rgba(124, 92, 255, 0.08);
      border-left: 4px solid #7c5cff;
      padding: 1rem 1.5rem;
      margin: 1rem 0;
      border-radius: 8px;
    }

    .reveal .success-box {
      background: rgba(16, 185, 129, 0.08);
      border-left: 4px solid #10b981;
      padding: 1rem 1.5rem;
      margin: 1rem 0;
      border-radius: 8px;
    }

    .reveal .error-box {
      background: rgba(239, 68, 68, 0.08);
      border-left: 4px solid #ef4444;
      padding: 1rem 1.5rem;
      margin: 1rem 0;
      border-radius: 8px;
    }

    .reveal .warning-box {
      background: rgba(245, 158, 11, 0.08);
      border-left: 4px solid #f59e0b;
      padding: 1rem 1.5rem;
      margin: 1rem 0;
      border-radius: 8px;
    }

    /* ROI calculation box */
    .reveal .roi-box {
      background: linear-gradient(135deg, rgba(124, 92, 255, 0.1), rgba(99, 102, 241, 0.1));
      border: 2px solid #7c5cff;
      padding: 1.5rem;
      margin: 1rem auto;
      border-radius: 12px;
      max-width: 85%;
      font-weight: 600;
    }

    /* Strong emphasis */
    .reveal strong {
      color: #1e293b;
      font-weight: 700;
    }

    /* Small text */
    .reveal .small {
      font-size: 0.8em;
    }

    .reveal .tiny {
      font-size: 0.65em;
    }

    /* Template cards - for Slides 3 & 4 */
    .template-cards-container {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin: 1rem auto;
      max-width: 90%;
    }

    .template-card {
      background: white;
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      padding: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      text-align: left;
    }

    .template-card:hover {
      border-color: #7c5cff;
      box-shadow: 0 4px 12px rgba(124, 92, 255, 0.15);
    }

    .template-card-header {
      font-size: 1.3em;
      font-weight: 600;
      color: #1e293b;
      margin-bottom: 0.3rem;
    }

    .template-card-role {
      font-size: 0.9em;
      color: #7c5cff;
      margin-bottom: 0.5rem;
    }

    .template-card-content {
      display: none;
      margin-top: 0.8rem;
    }

    .template-card.expanded .template-card-content {
      display: block;
    }

    .template-field {
      margin-bottom: 1rem;
      padding: 0.8rem;
      background: #f8fafc;
      border-radius: 8px;
    }

    .template-field-label {
      font-weight: 600;
      color: #475569;
      margin-bottom: 0.3rem;
      font-size: 0.9em;
    }

    .template-field-value {
      color: #1e293b;
      line-height: 1.5;
      margin-bottom: 0.5rem;
    }

    .copy-btn {
      background: #7c5cff;
      color: white;
      border: none;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.85em;
      font-weight: 600;
      transition: background 0.3s;
    }

    .copy-btn:hover {
      background: #6346e6;
    }

    .copy-btn.copied {
      background: #10b981;
    }

    .instructions-container {
      background: #f8fafc;
      border-radius: 8px;
      padding: 1rem;
      margin-top: 0.5rem;
    }

    .instructions-text {
      font-family: 'Courier New', monospace;
      font-size: 0.75em;
      line-height: 1.6;
      white-space: pre-wrap;
      color: #1e293b;
      max-height: 300px;
      overflow-y: auto;
    }

    .starter-item {
      background: white;
      border-left: 3px solid #7c5cff;
      padding: 0.8rem;
      margin: 0.5rem 0;
      border-radius: 4px;
      font-size: 0.85em;
    }

    /* Step-by-step navigation - for Slides 9 & 10 */
    .step-buttons-container {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .step-button {
      background: white;
      border: 2px solid #e2e8f0;
      border-radius: 8px;
      padding: 0.8rem 1rem;
      cursor: pointer;
      transition: all 0.3s;
      text-align: left;
      font-size: 0.85em;
      font-weight: 600;
      color: #475569;
    }

    .step-button:hover {
      border-color: #7c5cff;
      background: rgba(124, 92, 255, 0.05);
    }

    .step-button.active {
      background: #7c5cff;
      color: white;
      border-color: #7c5cff;
    }

    .step-number {
      display: inline-block;
      width: 24px;
      height: 24px;
      line-height: 24px;
      text-align: center;
      background: rgba(124, 92, 255, 0.2);
      border-radius: 50%;
      margin-right: 0.5rem;
      font-size: 0.9em;
    }

    .step-button.active .step-number {
      background: white;
      color: #7c5cff;
    }

    .step-content-container {
      position: relative;
    }

    .step-content {
      display: none;
      text-align: left;
    }

    .step-content.active {
      display: block;
    }

    /* Enhanced Viewport Handling - MORE AGGRESSIVE */

    /* Most common laptop screens (1080p-1200p height) */
    @media (max-height: 1200px) {
      .reveal h1 { font-size: 2em !important; }
      .reveal h2 { font-size: 1.4em !important; }
      .reveal h3 { font-size: 1.1em !important; }
      .reveal .slides { font-size: clamp(13px, 1.6vw, 22px) !important; }
      .reveal .slides > section { padding: 1.2rem !important; }
      .reveal .metadata { padding: 0.7em !important; font-size: 0.85em !important; line-height: 1.5 !important; }
      .reveal pre code { font-size: 0.65em !important; max-height: 400px !important; }
      .reveal ul, .reveal ol { line-height: 1.4 !important; margin: 0.5em auto !important; }
      .reveal li { margin: 0.2em 0 !important; }
      .reveal p { margin: 0.6em auto !important; }

      /* Reduce spacing in boxes */
      .reveal section > div[style*="background"] {
        padding: 0.7rem !important;
        margin: 0.8rem 0 !important;
      }

      /* Compact grid layouts */
      .reveal section > div[style*="grid-template-columns"] {
        gap: 1rem !important;
      }
    }

    /* Smaller screens */
    @media (max-height: 900px) {
      .reveal h1 { font-size: 1.8em !important; }
      .reveal h2 { font-size: 1.3em !important; }
      .reveal h3 { font-size: 1em !important; }
      .reveal .slides { font-size: clamp(12px, 1.5vw, 20px) !important; }
      .reveal .slides > section { padding: 0.9rem !important; }
      .reveal .metadata { padding: 0.6em !important; font-size: 0.8em !important; line-height: 1.4 !important; }
      .reveal pre code { font-size: 0.6em !important; max-height: 350px !important; }
      .reveal ul, .reveal ol { line-height: 1.3 !important; }
      .reveal p { margin: 0.5em auto !important; }

      /* More aggressive spacing reduction */
      .reveal section > div[style*="background"] {
        padding: 0.6rem !important;
        margin: 0.6rem 0 !important;
      }
    }

    @media (max-height: 800px) {
      .reveal h1 { font-size: 1.6em !important; }
      .reveal h2 { font-size: 1.2em !important; }
      .reveal h3 { font-size: 0.95em !important; }
      .reveal .slides { font-size: clamp(11px, 1.4vw, 18px) !important; }
      .reveal .slides > section { padding: 0.7rem !important; }
      .reveal .metadata { padding: 0.5em !important; font-size: 0.75em !important; line-height: 1.3 !important; }
      .reveal pre code { font-size: 0.55em !important; max-height: 300px !important; }
      .reveal ul, .reveal ol { line-height: 1.25 !important; }

      .reveal section > div[style*="background"] {
        padding: 0.5rem !important;
        margin: 0.5rem 0 !important;
      }
    }

    @media (max-height: 650px) {
      .reveal h1 { font-size: 1.4em !important; }
      .reveal h2 { font-size: 1.1em !important; }
      .reveal h3 { font-size: 0.9em !important; }
      .reveal .slides { font-size: clamp(10px, 1.3vw, 16px) !important; }
      .reveal .slides > section { padding: 0.5rem !important; }
      .reveal .metadata { padding: 0.4em !important; font-size: 0.7em !important; line-height: 1.2 !important; }
      .reveal pre code { font-size: 0.5em !important; max-height: 250px !important; }
      .reveal ul, .reveal ol { line-height: 1.2 !important; }

      .reveal section > div[style*="background"] {
        padding: 0.4rem !important;
        margin: 0.4rem 0 !important;
      }
    }

    /* Ultrawide screen support (>2000px) */
    @media (min-width: 2000px) {
      .reveal .slides > section {
        max-width: 1800px;
        margin: 0 auto;
      }
    }

    /* Small laptop screens (13-14 inch) */
    @media (max-width: 1440px) and (max-height: 900px) {
      .reveal .slides { font-size: clamp(15px, 1.9vw, 26px) !important; }
      .reveal h1 { font-size: 2.4em !important; }
      .reveal h2 { font-size: 1.7em !important; }
    }

    /* Grid layout auto-adjustment */
    @media (max-width: 900px) {
      .reveal section > div[style*="grid-template-columns"] {
        grid-template-columns: 1fr !important;
        gap: 1rem !important;
      }
    }

    /* SUPER AGGRESSIVE fixes for accordion slides (Slides 11 & 12) */
    @media (max-height: 1200px) {
      /* Reduce base font size for accordion slides */
      .reveal .step-buttons-container {
        font-size: 0.8em !important;
      }

      .reveal .step-content-container {
        font-size: 0.75em !important;
        line-height: 1.3 !important;
      }

      /* Step buttons - ultra compact */
      .reveal .step-button {
        font-size: 0.7em !important;
        padding: 0.5rem 0.6rem !important;
        margin-bottom: 0.4rem !important;
        line-height: 1.3 !important;
      }

      .reveal .step-number {
        width: 1.4em !important;
        height: 1.4em !important;
        font-size: 0.8em !important;
        margin-right: 0.4rem !important;
      }

      /* Step content - extreme spacing reduction */
      .reveal .step-content {
        font-size: 0.8em !important;
        line-height: 1.3 !important;
      }

      .reveal .step-content h3 {
        font-size: 0.95em !important;
        margin: 0.3rem 0 !important;
        line-height: 1.2 !important;
      }

      .reveal .step-content p {
        margin: 0.3em 0 !important;
        line-height: 1.3 !important;
      }

      .reveal .step-content li {
        margin: 0.2em 0 !important;
        line-height: 1.3 !important;
      }

      .reveal .step-content ol,
      .reveal .step-content ul {
        margin: 0.3em 0 !important;
      }

      /* Screenshots - much smaller */
      .reveal .step-content img.screenshot {
        max-height: 35vh !important;
        margin: 0.3rem auto !important;
      }

      /* Info/warning boxes - minimal spacing */
      .reveal .step-content div[style*="background"] {
        padding: 0.4rem !important;
        margin: 0.3rem 0 !important;
        font-size: 0.85em !important;
        line-height: 1.25 !important;
      }

      /* Code blocks - super compact */
      .reveal .step-content pre {
        margin: 0.3rem 0 !important;
        font-size: 0.65em !important;
      }

      .reveal .step-content code {
        font-size: 0.8em !important;
        padding: 0.1em 0.3em !important;
      }

      .reveal .step-content pre code {
        padding: 0.5em !important;
        line-height: 1.3 !important;
      }
    }

    /* Better image scaling */
    .reveal img {
      max-width: 100% !important;
      max-height: 60vh !important;
      object-fit: contain !important;
      margin: 0.5rem auto !important;
    }

    @media (max-height: 800px) {
      .reveal img {
        max-height: 45vh !important;
      }
    }

    /* Better scroll handling for overflow content */
    .reveal .slides > section::-webkit-scrollbar {
      width: 6px;
    }

    .reveal .slides > section::-webkit-scrollbar-track {
      background: rgba(124, 92, 255, 0.1);
      border-radius: 3px;
    }

    .reveal .slides > section::-webkit-scrollbar-thumb {
      background: rgba(124, 92, 255, 0.5);
      border-radius: 3px;
    }

    .reveal .slides > section::-webkit-scrollbar-thumb:hover {
      background: rgba(124, 92, 255, 0.7);
    }
  </style>
</head>
<body>
  <div class="reveal">
    <div class="slides">
      <!-- Load slides from Markdown -->
      <section data-markdown="slides.md"
               data-separator="^---$"
               data-separator-notes="^Note:"></section>
    </div>
  </div>

  <script type="module">
    import Reveal from 'https://cdn.jsdelivr.net/npm/reveal.js@5/dist/reveal.esm.js';
    import Markdown from 'https://cdn.jsdelivr.net/npm/reveal.js@5/plugin/markdown/markdown.esm.js';
    import Highlight from 'https://cdn.jsdelivr.net/npm/reveal.js@5/plugin/highlight/highlight.esm.js';

    const deck = new Reveal({
      hash: true,
      slideNumber: 'h',  // Show horizontal index - matches URL hash (1, 2, 3...)
      progress: true,
      controls: true,
      center: true,

      // Responsive sizing
      width: '100%',
      height: '100%',
      margin: 0.04,
      minScale: 0.2,
      maxScale: 2.0,

      // Horizontal navigation only
      navigationMode: 'linear',

      // Smooth transitions
      transition: 'slide',
      transitionSpeed: 'default',

      // Touch-friendly for mobile
      touch: true,

      plugins: [ Markdown, Highlight ]
    });
    deck.initialize();

    // Interactive card toggling for template cards (Slides 3 & 4)
    window.toggleCard = function(cardId) {
      const card = document.getElementById(cardId);
      if (card) {
        card.classList.toggle('expanded');
      }
    };

    // Copy to clipboard functionality
    window.copyToClipboard = function(text, buttonId) {
      navigator.clipboard.writeText(text).then(() => {
        const btn = document.getElementById(buttonId) || event.target;
        const originalText = btn.textContent;
        btn.textContent = 'Copied!';
        btn.classList.add('copied');
        setTimeout(() => {
          btn.textContent = originalText;
          btn.classList.remove('copied');
        }, 2000);
      });
    };

    // Template instructions copying
    window.copyTemplateInstructions = function(template) {
      const instructions = {
        ceo: `You are an Executive Communication Assistant for a CEO.

YOUR ROLE:
- Draft executive communications that are clear, strategic, and authentic
- Match the executive's voice and leadership style
- Ensure messaging aligns with company values and strategic priorities
- Maintain professionalism while being approachable

COMMUNICATION TYPES:
1. All-Hands Emails - Company-wide updates
2. Board Updates - Quarterly performance, strategic initiatives
3. Investor Memos - Financial performance, market positioning
4. LinkedIn Posts - Thought leadership, company milestones
5. Internal Announcements - Policy changes, organizational updates

WRITING PRINCIPLES:
- Lead with "why" before "what"
- Be transparent about challenges, not just wins
- Recognize team contributions specifically
- Connect tactical updates to strategic vision
- Keep messages concise
- Use active voice and clear language

TONE: Professional but not corporate-speak, confident without being arrogant, transparent, empathetic, forward-looking

WHAT TO AVOID: Jargon, passive voice, vague statements, overpromising

PROCESS: Ask about communication type → Request key points → Confirm tone → Draft message → Provide subject options → Explain framing`,
        marketing: `You are a Campaign Brief Generator for marketing teams.

YOUR ROLE:
- Create comprehensive, actionable marketing campaign briefs
- Use data-driven insights and past campaign learnings
- Ensure consistency with brand voice and positioning
- Include specific, measurable success metrics

REQUIRED BRIEF STRUCTURE:
1. Executive Summary (2-3 sentences)
2. Campaign Objectives (SMART goals with KPIs)
3. Target Audience (demographics, psychographics, behaviors)
4. Key Messaging (value prop, proof points, differentiation)
5. Channel Strategy (recommended channels, budget allocation)
6. Content Requirements (asset list, quantities, creative direction)
7. Success Metrics (primary/secondary KPIs, measurement plan)
8. Timeline & Milestones (phases, dates, responsibilities)
9. Budget & Resources (breakdown, team, vendors/tools)
10. Risk Mitigation (challenges, contingency plans)

PROCESS: Ask about goal → audience → budget → timeline → channels → Generate brief → Reference past campaigns → Include actionable recommendations

TONE: Professional but conversational, data-driven, action-oriented, strategic but practical

WHAT TO AVOID: Vague objectives, generic descriptions, overly optimistic projections, missing details, buzzwords`,
        ai: `You are an AI Implementation Advisor helping organizations successfully adopt AI.

YOUR EXPERTISE:
- Identifying high-value AI use cases
- Evaluating AI tools and platforms
- Creating practical implementation roadmaps
- Calculating ROI and building business cases
- Navigating technical and organizational challenges

WHAT YOU HELP WITH:
1. Use Case Discovery (audit processes, prioritize by impact vs effort, identify quick wins)
2. Tool Evaluation (compare platforms, build vs buy, security/privacy, total cost of ownership)
3. Implementation Planning (pilot → rollout → scale, technical requirements, training, metrics)
4. ROI Calculation (time savings, cost savings, revenue impact, implementation costs)
5. Best Practices (data quality, prompt engineering, fine-tuning vs prompting, security)

YOUR APPROACH: Understand context → Assess readiness → Recommend approach → Provide specifics → Plan mitigation

TONE: Technical but accessible, practical not academic, honest about limitations, realistic, encouraging without overhyping

WHAT TO AVOID: Overpromising, recommending AI where simpler solutions exist, generic advice, ignoring costs/risks, buzzwords

DECISION FRAMEWORKS:
- When to use AI: ✅ Repetitive tasks, pattern recognition, content generation, data analysis | ❌ Life-or-death decisions, true creativity/empathy, insufficient data
- Build vs Buy: Buy (APIs) for most use cases | Build (fine-tune) for specialized domains, sensitive data, high volume

ALWAYS INCLUDE: Tool recommendations, cost estimates, timelines, required skills, success metrics, common pitfalls`
      };

      const text = instructions[template];
      if (text) {
        navigator.clipboard.writeText(text).then(() => {
          const btn = document.getElementById(`copy-${template}-instructions`);
          if (btn) {
            const originalText = btn.textContent;
            btn.textContent = '✅ Copied!';
            btn.style.background = '#10b981';
            setTimeout(() => {
              btn.textContent = originalText;
              btn.style.background = '';
            }, 2000);
          }
        });
      }
    };

    // Step navigation for Slides 9 & 10
    window.showStep = function(stepId) {
      // Determine which set of steps (app or oauth)
      const prefix = stepId.startsWith('app-') ? 'app' : 'oauth';

      // Hide all step contents and deactivate buttons in this set
      const allContents = document.querySelectorAll(`[id^="step-content-${prefix}-"]`);
      const allButtons = document.querySelectorAll(`[id^="step-btn-${prefix}-"]`);

      allContents.forEach(content => content.classList.remove('active'));
      allButtons.forEach(button => button.classList.remove('active'));

      // Show selected step
      const content = document.getElementById(`step-content-${stepId}`);
      const button = document.getElementById(`step-btn-${stepId}`);

      if (content) content.classList.add('active');
      if (button) button.classList.add('active');
    };

    // Enhanced Viewport Handler
    function handleViewportResize() {
      const vh = window.innerHeight;
      const vw = window.innerWidth;

      // Add viewport size class to body for CSS targeting
      document.body.classList.remove('viewport-small', 'viewport-medium', 'viewport-large', 'viewport-xlarge');

      if (vh < 700) {
        document.body.classList.add('viewport-small');
      } else if (vh < 900) {
        document.body.classList.add('viewport-medium');
      } else if (vw < 2000) {
        document.body.classList.add('viewport-large');
      } else {
        document.body.classList.add('viewport-xlarge');
      }

      // Log viewport info for debugging (remove in production)
      console.log(`Viewport: ${vw}x${vh}`, document.body.className);
    }

    // Check for overflow content and adjust
    function checkSlideOverflow() {
      deck.on('slidechanged', function() {
        const currentSlide = document.querySelector('.reveal .slides section.present');
        if (!currentSlide) return;

        const slideHeight = currentSlide.offsetHeight;
        const contentHeight = currentSlide.scrollHeight;

        if (contentHeight > slideHeight * 0.95) {
          currentSlide.style.fontSize = '0.9em';
          currentSlide.style.lineHeight = '1.4';
        }
      });
    }

    // Initialize viewport handlers
    handleViewportResize();
    window.addEventListener('resize', handleViewportResize);

    // Initialize overflow checker after Reveal loads
    deck.on('ready', function() {
      checkSlideOverflow();
      console.log('Slides initialized with enhanced viewport handling');
    });

    // Speaker card toggle function for Slide 0
    window.toggleSpeaker = function(speaker) {
      const content = document.getElementById('speaker-content-' + speaker);
      const card = document.getElementById('speaker-card-' + speaker);

      if (content && card) {
        if (content.style.display === 'none' || content.style.display === '') {
          content.style.display = 'block';
          card.style.transform = 'scale(1.02)';
        } else {
          content.style.display = 'none';
          card.style.transform = 'scale(1)';
        }
      }
    };
  </script>
</body>
</html>
